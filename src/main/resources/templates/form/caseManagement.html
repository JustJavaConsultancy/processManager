<!DOCTYPE html >
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .form-section {
            background-color: #1f2937;
            border-radius: 0.5rem;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        .form-label {
            font-weight: 500;
            color: #9ca3af;
            margin-bottom: 0.5rem;
            display: block;
        }
        .form-input, .form-textarea, .form-select {
            background-color: #374151;
            border: 1px solid #4b5563;
            color: #d1d5db;
            border-radius: 0.375rem;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: border-color 0.2s ease-in-out;
        }
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.5);
        }
        .checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            color: #d1d5db;
        }
        .checkbox-input {
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #4b5563;
            border-radius: 0.25rem;
            margin-right: 0.5rem;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
        }
        .checkbox-input:checked {
            background-color: #4f46e5;
            border-color: #4f46e5;
        }
        .checkbox-input:checked::after {
            content: 'âœ“';
            color: white;
            font-size: 1rem;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .submit-btn {
            background-color: #4f46e5;
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            transition: background-color 0.2s ease-in-out;
        }
        .submit-btn:hover {
            background-color: #4338ca;
        }
        /* File upload styles */
        .file-upload {
            position: relative;
            display: inline-block;
            width: 100%;
            margin-bottom: 1rem;
        }
        .file-upload-input {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        .file-upload-label {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #374151;
            border: 1px dashed #4b5563;
            border-radius: 0.375rem;
            padding: 1.5rem 1rem;
            transition: all 0.2s ease;
        }
        .file-upload-label:hover {
            border-color: #6366f1;
            background-color: #3d4656;
        }
        .file-upload-text {
            color: #d1d5db;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .file-upload-icon {
            color: #6366f1;
            margin-right: 0.75rem;
            font-size: 1.25rem;
        }
        .file-upload-button {
            background-color: #4b5563;
            color: #d1d5db;
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            transition: background-color 0.2s;
        }
        .file-upload-button:hover {
            background-color: #4f46e5;
        }
        /* Document generation styles */
        .document-card {
            background-color: #374151;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .document-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .document-card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        .document-icon {
            color: #6366f1;
            font-size: 1.5rem;
            margin-right: 1rem;
        }
        .document-title {
            font-size: 1.125rem;
            font-weight: 500;
            color: #d1d5db;
            flex-grow: 1;
        }
        .document-status {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            background-color: #1f2937;
            color: #9ca3af;
        }
        .document-status.generated {
            background-color: #10b981;
            color: white;
        }
        .document-description {
            color: #9ca3af;
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }
        .document-content {
            background-color: #1f2937;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-bottom: 1rem;
            color: #d1d5db;
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        .document-actions {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }
        .document-generate-btn {
            background-color: #4f46e5;
            color: white;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            display: inline-flex;
            align-items: center;
            transition: background-color 0.2s;
            border: none;
            cursor: pointer;
        }
        .document-generate-btn:hover {
            background-color: #4338ca;
        }
        .document-generate-btn:disabled {
            background-color: #4b5563;
            cursor: not-allowed;
        }
        .document-generate-icon {
            margin-right: 0.5rem;
        }
        .document-edit-btn {
            background-color: #374151;
            color: #d1d5db;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            display: inline-flex;
            align-items: center;
            transition: background-color 0.2s;
            border: 1px solid #4b5563;
            cursor: pointer;
        }
        .document-edit-btn:hover {
            background-color: #3d4656;
        }
        .document-download-btn {
            background-color: #10b981;
            color: white;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            display: inline-flex;
            align-items: center;
            transition: background-color 0.2s;
            border: none;
            cursor: pointer;
        }
        .document-download-btn:hover {
            background-color: #0d9c6e;
        }
        .document-download-icon {
            margin-right: 0.5rem;
        }
        /* Tab styles */
        .tab-container {
            display: flex;
            border-bottom: 1px solid #374151;
            margin-bottom: 1.5rem;
        }
        .tab-item {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            color: #9ca3af;
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }
        .tab-item:hover {
            color: #d1d5db;
        }
        .tab-item.active {
            color: #6366f1;
            border-bottom-color: #6366f1;
        }
        /* Reason list styles */
        .reason-list {
            list-style-type: none;
            padding-left: 0;
        }
        .reason-item {
            display: flex;
            align-items: flex-start;
            padding: 0.75rem;
            border-radius: 0.375rem;
            margin-bottom: 0.5rem;
            background-color: #374151;
        }
        .reason-bullet {
            color: #6366f1;
            margin-right: 0.75rem;
            font-size: 1.25rem;
            line-height: 1;
        }
        .reason-text {
            color: #d1d5db;
            flex-grow: 1;
        }
        /* Document container styles */
        .document-container {
            background-color: #374151;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            position: relative;
        }
        .document-remove-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            color: #ef4444;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 1.25rem;
        }
        .add-document-btn {
            background-color: #4b5563;
            color: #d1d5db;
            padding: 0.75rem 1.25rem;
            border-radius: 0.375rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            transition: background-color 0.2s;
            border: none;
            cursor: pointer;
        }
        .add-document-btn:hover {
            background-color: #4f46e5;
        }
        .add-document-icon {
            margin-right: 0.5rem;
        }
        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: #1f2937;
            border-radius: 0.5rem;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
        }
        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #d1d5db;
        }
        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            color: #9ca3af;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 1.5rem;
        }
        .modal-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 1.5rem;
            gap: 0.75rem;
        }
        .modal-cancel {
            background-color: #4b5563;
            color: #d1d5db;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            border: none;
            cursor: pointer;
        }
        .modal-confirm {
            background-color: #4f46e5;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            border: none;
            cursor: pointer;
        }
        /* Editor modal styles */
        .editor-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 1rem;
        }
        .editor-content {
            background-color: #1f2937;
            border-radius: 0.5rem;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }
        .editor-header {
            padding: 1.5rem 1.5rem 1rem;
            border-bottom: 1px solid #374151;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .editor-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #d1d5db;
        }
        .editor-close {
            color: #9ca3af;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .editor-body {
            flex: 1;
            overflow: auto;
            padding: 1.5rem;
        }
        .editor-textarea {
            width: 100%;
            min-height: 400px;
            background-color: #1f2937;
            border: 1px solid #4b5563;
            color: #d1d5db;
            border-radius: 0.375rem;
            padding: 1rem;
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            resize: none;
            white-space: pre-wrap;
        }
        .editor-textarea:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
        }
        .editor-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid #374151;
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
        }
        .editor-cancel {
            background-color: #4b5563;
            color: #d1d5db;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            border: none;
            cursor: pointer;
        }
        .editor-save {
            background-color: #4f46e5;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
<main  layout:fragment="content"class="main-content flex-1 p-6 lg:p-8 overflow-y-auto">
    <header class="flex justify-between items-center mb-8">
        <div>
            <h1 class="text-3xl font-bold text-white">Create New Form</h1>
            <p class="text-gray-400">Fill in the details below to create a new process.</p>
        </div>
    </header>
    <form>
        <div class="form-section">
            <h2 class="text-xl font-semibold text-white mb-6">Case Details</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="form-label" for="suggestedCourt">Suggested Court</label>
                    <input class="form-input" id="suggestedCourt" name="suggestedCourt" type="text" value="State High Court or Federal High Court, depending on the specific details and location of the employer."/>
                </div>
                <div>
                    <label class="form-label">Merit</label>
                    <label class="checkbox-label">
                        <input checked="" class="checkbox-input" name="merit" type="checkbox"/>
                        <span>The case has merit</span>
                    </label>
                </div>
            </div>
        </div>

        <div class="form-section">
            <h2 class="text-xl font-semibold text-white mb-6">Reason for Merit</h2>
            <ul class="reason-list">
                <li class="reason-item">
                    <span class="material-icons reason-bullet">check_circle</span>
                    <span class="reason-text">The client has a valid legal claim for assault and possibly for workplace harassment, which are recognized under Nigerian law.</span>
                </li>
                <li class="reason-item">
                    <span class="material-icons reason-bullet">check_circle</span>
                    <span class="reason-text">The statute of limitations for personal injury claims in Nigeria is six years, meaning the claim is timely.</span>
                </li>
                <li class="reason-item">
                    <span class="material-icons reason-bullet">check_circle</span>
                    <span class="reason-text">The High Court has jurisdiction as the incident occurred in the workplace, and it relates to employment matters.</span>
                </li>
                <li class="reason-item">
                    <span class="material-icons reason-bullet">check_circle</span>
                    <span class="reason-text">The presence of colleagues who witnessed the incident provides sufficient evidence to support the claim.</span>
                </li>
                <li class="reason-item">
                    <span class="material-icons reason-bullet">check_circle</span>
                    <span class="reason-text">While internal grievance procedures may apply, the immediate nature of physical assault justifies the claim being brought to court.</span>
                </li>
            </ul>
        </div>

        <div class="form-section !p-0">
            <div class="tab-container">
                <div class="tab-item active" data-tab="client-documents">Client Documents</div>
                <div class="tab-item" data-tab="lawyer-documents">Lawyer Documents</div>
                <div class="tab-item" data-tab="court-documents">Court Documents</div>
            </div>

            <!-- Client Documents Tab -->
            <div id="client-documents" class="tab-content p-6" style="display: block;">
                <div id="client-documents-container">
                    <div class="document-container">
                        <button type="button" class="document-remove-btn material-icons">close</button>
                        <label class="form-label" for="medicalReportName">Document Name</label>
                        <input class="form-input mb-4" id="medicalReportName" type="text" value="Medical report documenting any injuries sustained"/>
                        <div class="file-upload">
                            <input type="file" id="medicalReport" class="file-upload-input" accept=".pdf,.doc,.docx,.jpg,.png">
                            <label for="medicalReport" class="file-upload-label">
                                <div class="flex items-center">
                                    <span class="material-icons file-upload-icon">upload</span>
                                    <span class="file-upload-text">Upload Medical Report</span>
                                </div>
                                <span class="file-upload-button">Browse</span>
                            </label>
                        </div>
                    </div>

                    <div class="document-container">
                        <button type="button" class="document-remove-btn material-icons">close</button>
                        <label class="form-label" for="witnessStatementsName">Document Name</label>
                        <input class="form-input mb-4" id="witnessStatementsName" type="text" value="Witness statements from colleagues who were present"/>
                        <div class="file-upload">
                            <input type="file" id="witnessStatements" class="file-upload-input" accept=".pdf,.doc,.docx,.jpg,.png">
                            <label for="witnessStatements" class="file-upload-label">
                                <div class="flex items-center">
                                    <span class="material-icons file-upload-icon">upload</span>
                                    <span class="file-upload-text">Upload Witness Statements</span>
                                </div>
                                <span class="file-upload-button">Browse</span>
                            </label>
                        </div>
                    </div>
                </div>

                <button type="button" id="add-client-document" class="add-document-btn mt-4">
                    <span class="material-icons add-document-icon">add</span>
                    Add Another Document
                </button>
            </div>

            <!-- Lawyer Documents Tab -->
            <div id="lawyer-documents" class="tab-content p-6" style="display: none;">
                <div class="space-y-4">
                    <div class="document-card">
                        <div class="document-card-header">
                            <span class="material-icons document-icon">description</span>
                            <div class="document-title">Letter of Demand</div>
                            <span class="document-status">Not Generated</span>
                        </div>
                        <div class="document-description">
                            Formal letter addressed to the employer outlining the client's demands and legal basis for the claim.
                        </div>
                        <div class="document-content" style="display: none;"></div>
                        <div class="document-actions">
                            <button type="button" class="document-generate-btn">
                                <span class="material-icons document-generate-icon">auto_awesome</span>
                                Generate Document
                            </button>
                            <button type="button" class="document-edit-btn" style="display: none;">
                                <span class="material-icons document-generate-icon">edit</span>
                                Edit Document
                            </button>
                            <button type="button" class="document-download-btn" style="display: none;">
                                <span class="material-icons document-download-icon">download</span>
                                Download
                            </button>
                        </div>
                    </div>

                    <div class="document-card">
                        <div class="document-card-header">
                            <span class="material-icons document-icon">description</span>
                            <div class="document-title">Statement of Claim</div>
                            <span class="document-status">Not Generated</span>
                        </div>
                        <div class="document-description">
                            Detailed document outlining the facts of the case and legal basis for the claim to be filed in court.
                        </div>
                        <div class="document-content" style="display: none;"></div>
                        <div class="document-actions">
                            <button type="button" class="document-generate-btn">
                                <span class="material-icons document-generate-icon">auto_awesome</span>
                                Generate Document
                            </button>
                            <button type="button" class="document-edit-btn" style="display: none;">
                                <span class="material-icons document-generate-icon">edit</span>
                                Edit Document
                            </button>
                            <button type="button" class="document-download-btn" style="display: none;">
                                <span class="material-icons document-download-icon">download</span>
                                Download
                            </button>
                        </div>
                    </div>

                    <div class="document-card">
                        <div class="document-card-header">
                            <span class="material-icons document-icon">description</span>
                            <div class="document-title">Affidavit of Evidence</div>
                            <span class="document-status">Not Generated</span>
                        </div>
                        <div class="document-description">
                            Sworn statement containing the evidence in support of the client's claim.
                        </div>
                        <div class="document-content" style="display: none;"></div>
                        <div class="document-actions">
                            <button type="button" class="document-generate-btn">
                                <span class="material-icons document-generate-icon">auto_awesome</span>
                                Generate Document
                            </button>
                            <button type="button" class="document-edit-btn" style="display: none;">
                                <span class="material-icons document-generate-icon">edit</span>
                                Edit Document
                            </button>
                            <button type="button" class="document-download-btn" style="display: none;">
                                <span class="material-icons document-download-icon">download</span>
                                Download
                            </button>
                        </div>
                    </div>

                    <div class="document-card">
                        <div class="document-card-header">
                            <span class="material-icons document-icon">description</span>
                            <div class="document-title">Preliminary Objections</div>
                            <span class="document-status">Not Generated</span>
                        </div>
                        <div class="document-description">
                            Legal objections to any procedural or substantive issues raised by the opposing party.
                        </div>
                        <div class="document-content" style="display: none;"></div>
                        <div class="document-actions">
                            <button type="button" class="document-generate-btn">
                                <span class="material-icons document-generate-icon">auto_awesome</span>
                                Generate Document
                            </button>
                            <button type="button" class="document-edit-btn" style="display: none;">
                                <span class="material-icons document-generate-icon">edit</span>
                                Edit Document
                            </button>
                            <button type="button" class="document-download-btn" style="display: none;">
                                <span class="material-icons document-download-icon">download</span>
                                Download
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Court Documents Tab -->
            <div id="court-documents" class="tab-content p-6" style="display: none;">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="form-label" for="courtTitle">Title</label>
                        <input class="form-input" id="courtTitle" name="courtTitle" type="text" value="IN THE HIGH COURT OF [STATE]"/>
                    </div>
                    <div>
                        <label class="form-label" for="caseNumber">Case Number</label>
                        <input class="form-input" id="caseNumber" name="caseNumber" type="text" value="[CASE NUMBER]"/>
                    </div>
                </div>
                <div class="mt-6">
                    <label class="form-label" for="parties">Parties</label>
                    <textarea class="form-textarea" id="parties" name="parties" rows="3">BETWEEN
[CLIENT NAME] (Claimant)
AND
[EMPLOYER NAME] (Defendant)</textarea>
                </div>
                <div class="mt-6">
                    <label class="form-label" for="body">Body (Statement of Claim)</label>
                    <textarea class="form-textarea" id="body" name="body" rows="8">STATEMENT OF CLAIM
1. The Claimant is a [designation] employed at [company name], located at [address].
2. On [date], the Defendant, the Claimant's line manager, slapped the Claimant in the presence of other colleagues.
3. The Claimant seeks the following reliefs:
   a. Damages for assault;
   b. Compensation for emotional distress;
   c. Any other relief deemed fit by the court.
WHEREFORE, the Claimant prays this Honorable Court for judgment in the above terms.</textarea>
                </div>
                <div class="mt-6">
                    <label class="form-label" for="signature">Signature</label>
                    <textarea class="form-textarea" id="signature" name="signature" rows="4">[LAWYER'S NAME]
[LAWYER'S FIRM]
[ADDRESS]
[DATE]</textarea>
                </div>
            </div>
        </div>

        <div class="flex justify-end mt-8">
            <button class="submit-btn" type="submit">
                Create Process
            </button>
        </div>
    </form>
    <div id="document-name-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button class="modal-close material-icons" id="close-modal">close</button>
            <h3 class="modal-title">Name Your Document</h3>
            <div class="form-group">
                <label class="form-label" for="new-document-name">Document Name</label>
                <input class="form-input" id="new-document-name" type="text" placeholder="Enter document name"/>
            </div>
            <div class="modal-actions">
                <button class="modal-cancel" id="cancel-add-document">Cancel</button>
                <button class="modal-confirm" id="confirm-add-document">Add Document</button>
            </div>
        </div>
    </div>

    <!-- Document Editor Modal -->
    <div id="editor-modal" class="editor-modal" style="display: none;">
        <div class="editor-content">
            <div class="editor-header">
                <h3 class="editor-title">Edit Document</h3>
                <button class="editor-close material-icons" id="editor-close">close</button>
            </div>
            <div class="editor-body">
                <textarea id="document-editor" class="editor-textarea"></textarea>
            </div>
            <div class="editor-footer">
                <button class="editor-cancel" id="editor-cancel">Cancel</button>
                <button class="editor-save" id="editor-save">Save Changes</button>
            </div>
        </div>
    </div>

    <script>
        // Tab functionality
        document.querySelectorAll('.tab-item').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
                // Add active class to clicked tab
                this.classList.add('active');

                // Hide all tab contents
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.style.display = 'none';
                });

                // Show the selected tab content
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId).style.display = 'block';
            });
        });

        // File upload display filename
        document.querySelectorAll('.file-upload-input').forEach(input => {
            input.addEventListener('change', function(e) {
                const label = this.nextElementSibling;
                const fileName = this.files[0]?.name || 'No file selected';

                const textElement = label.querySelector('.file-upload-text');
                if (textElement) {
                    textElement.textContent = fileName;
                }
            });
        });

        // Modal elements
        const modal = document.getElementById('document-name-modal');
        const closeModal = document.getElementById('close-modal');
        const cancelAddDocument = document.getElementById('cancel-add-document');
        const confirmAddDocument = document.getElementById('confirm-add-document');
        const newDocumentName = document.getElementById('new-document-name');

        // Add new client document with modal for name
        document.getElementById('add-client-document').addEventListener('click', function() {
            modal.style.display = 'flex';
            newDocumentName.value = '';
            newDocumentName.focus();
        });

        // Close modal handlers
        closeModal.addEventListener('click', () => modal.style.display = 'none');
        cancelAddDocument.addEventListener('click', () => modal.style.display = 'none');

        // Confirm add document
        confirmAddDocument.addEventListener('click', function() {
            if (newDocumentName.value.trim() === '') {
                alert('Please enter a document name');
                return;
            }

            const container = document.getElementById('client-documents-container');
            const newDocument = document.createElement('div');
            newDocument.className = 'document-container';
            const docId = 'doc-' + Date.now();

            newDocument.innerHTML = `
                <button type="button" class="document-remove-btn material-icons">close</button>
                <label class="form-label" for="${docId}-name">Document Name</label>
                <input class="form-input mb-4" id="${docId}-name" type="text" value="${newDocumentName.value}"/>
                <div class="file-upload">
                    <input type="file" id="${docId}-file" class="file-upload-input" accept=".pdf,.doc,.docx,.jpg,.png">
                    <label for="${docId}-file" class="file-upload-label">
                        <div class="flex items-center">
                            <span class="material-icons file-upload-icon">upload</span>
                            <span class="file-upload-text">Upload Document</span>
                        </div>
                        <span class="file-upload-button">Browse</span>
                    </label>
                </div>
            `;
            container.appendChild(newDocument);

            // Add event listener to new file input
            newDocument.querySelector('.file-upload-input').addEventListener('change', function(e) {
                const label = this.nextElementSibling;
                const fileName = this.files[0]?.name || 'No file selected';
                label.querySelector('.file-upload-text').textContent = fileName;
            });

            // Add event listener to remove button
            newDocument.querySelector('.document-remove-btn').addEventListener('click', function() {
                container.removeChild(newDocument);
            });

            modal.style.display = 'none';
        });

        // Remove client document
        document.querySelectorAll('.document-remove-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.closest('.document-container').remove();
            });
        });

        // Generate lawyer document with editing capability
        document.querySelectorAll('.document-generate-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const card = this.closest('.document-card');
                const title = card.querySelector('.document-title').textContent;
                const status = card.querySelector('.document-status');
                const content = card.querySelector('.document-content');
                const generateBtn = card.querySelector('.document-generate-btn');
                const editBtn = card.querySelector('.document-edit-btn');
                const downloadBtn = card.querySelector('.document-download-btn');

                // Sample document content based on type
                let sampleContent = '';
                if (title.includes('Letter of Demand')) {
                    sampleContent = `[Your Law Firm's Letterhead]
    [DATE]

    [Employer's Name]
    [Employer's Address]

    RE: DEMAND LETTER FOR COMPENSATION FOR ASSAULT AND HARASSMENT

    Dear Sir/Madam,

    We act as Solicitors to [Client's Name] ("our Client") and write in respect of the incident that occurred on [Date] at your premises located at [Location].

    FACTS:
    1. Our Client was employed by your company as [Position] from [Start Date] to present.
    2. On [Date], our Client was physically assaulted by [Manager's Name], your employee, in the presence of colleagues.
    3. The assault caused our Client [describe injuries] and significant emotional distress.

    LEGAL BASIS:
    This conduct constitutes assault under Nigerian law and violates our Client's fundamental rights.

    DEMANDS:
    1. Immediate payment of N[Amount] as compensation
    2. Written apology
    3. Disciplinary action against [Manager's Name]

    We demand your response within 14 days, failing which we shall proceed to court without further notice.

    Yours faithfully,
    [Your Name]
    [Your Law Firm]`;
                } else if (title.includes('Statement of Claim')) {
                    sampleContent = `IN THE HIGH COURT OF [STATE]
    IN THE [JUDICIAL DIVISION]
    HOLDEN AT [CITY]

    SUIT NO: [CASE NUMBER]

    BETWEEN:
    [CLIENT NAME] - CLAIMANT
    AND
    [EMPLOYER NAME] - DEFENDANT

    STATEMENT OF CLAIM

    1. The Claimant is a [designation] employed by the Defendant at [company name], located at [address].
    2. On [date], the Defendant's employee [Manager's Name] physically assaulted the Claimant by slapping him/her in the presence of colleagues.
    3. The assault caused the Claimant [describe injuries] and emotional distress.
    4. The Claimant reported the incident but no adequate action was taken by the Defendant.

    WHEREOF the Claimant claims against the Defendant as follows:
    a. The sum of N[Amount] as general damages for assault
    b. The sum of N[Amount] as compensation for emotional distress
    c. Cost of this action
    d. Any other relief the Court may deem fit.

    DATED at [City] this [day] of [month], [year].

    [LAWYER'S NAME]
    [LAWYER'S FIRM]
    [ADDRESS]`;
                } else if (title.includes('Affidavit of Evidence')) {
                    sampleContent = `IN THE HIGH COURT OF [STATE]
    IN THE [JUDICIAL DIVISION]
    HOLDEN AT [CITY]

    SUIT NO: [CASE NUMBER]

    BETWEEN:
    [CLIENT NAME] - CLAIMANT
    AND
    [EMPLOYER NAME] - DEFENDANT

    AFFIDAVIT OF EVIDENCE IN SUPPORT OF ORIGINATING PROCESS

    I, [CLIENT NAME], [occupation], of [address], do hereby make oath and state as follows:

    1. I am the Claimant in this suit and as such conversant with the facts deposed herein.
    2. I was employed by the Defendant as [position] from [start date] to present.
    3. On [date], I was assaulted by [Manager's Name] who slapped me in the presence of colleagues.
    4. The incident was witnessed by [Witness Names].
    5. I reported the incident to [HR Person] but no action was taken.
    6. I suffered [describe injuries] and emotional distress as a result.

    SWORN to at the High Court Registry,
    [City] this [day] of [month], [year]

    BEFORE ME:

    [COMMISSIONER FOR OATHS]`;
                } else if (title.includes('Preliminary Objections')) {
                    sampleContent = `IN THE HIGH COURT OF [STATE]
    IN THE [JUDICIAL DIVISION]
    HOLDEN AT [CITY]

    SUIT NO: [CASE NUMBER]

    BETWEEN:
    [CLIENT NAME] - CLAIMANT
    AND
    [EMPLOYER NAME] - DEFENDANT

    NOTICE OF PRELIMINARY OBJECTION

    TAKE NOTICE that the Defendant shall at the hearing of this suit raise preliminary objection to the Claimant's suit on the following grounds:

    1. This Honorable Court lacks jurisdiction to hear this matter as the Claimant failed to exhaust internal grievance procedures.
    2. The Claimant's statement of claim discloses no reasonable cause of action against the Defendant.
    3. The suit is statute-barred under the Limitation Law of [State].

    AND TAKE NOTICE that the Defendant shall rely on all relevant statutes and case law in support of this objection.

    DATED at [City] this [day] of [month], [year].

    [LAWYER'S NAME]
    [LAWYER'S FIRM]
    [ADDRESS]`;
                }

                // Simulate document generation
                generateBtn.disabled = true;
                generateBtn.innerHTML = '<span class="material-icons document-generate-icon">hourglass_empty</span> Generating...';

                setTimeout(() => {
                    // Update status and show content
                    status.textContent = 'Generated';
                    status.classList.add('generated');
                    content.textContent = sampleContent;
                    content.style.display = 'block';

                    // Show edit and download buttons
                    editBtn.style.display = 'inline-flex';
                    downloadBtn.style.display = 'inline-flex';

                    // Hide generate button
                    generateBtn.style.display = 'none';
                }, 1500);
            });
        });

        // Editor modal functionality
        const editorModal = document.getElementById('editor-modal');
        const editorClose = document.getElementById('editor-close');
        const editorCancel = document.getElementById('editor-cancel');
        const editorSave = document.getElementById('editor-save');
        const editorTextarea = document.getElementById('document-editor');

        // Set up edit buttons
        document.querySelectorAll('.document-edit-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const card = this.closest('.document-card');
                const title = card.querySelector('.document-title').textContent;
                const content = card.querySelector('.document-content');

                // Set up editor
                document.querySelector('.editor-title').textContent = `Editing: ${title}`;
                editorTextarea.value = content.textContent;
                editorTextarea.dataset.targetContent = content.id ||
                    (content.id = 'content-' + Date.now());

                // Show modal
                editorModal.style.display = 'flex';
                editorTextarea.focus();
            });
        });

        // Set up download buttons
        document.querySelectorAll('.document-download-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const title = this.closest('.document-card').querySelector('.document-title').textContent;
                alert(`Downloading: ${title}`);
            });
        });

        // Close editor
        editorClose.addEventListener('click', () => editorModal.style.display = 'none');
        editorCancel.addEventListener('click', () => editorModal.style.display = 'none');

        // Save editor changes
        editorSave.addEventListener('click', function() {
            const targetId = editorTextarea.dataset.targetContent;
            if (targetId) {
                const targetContent = document.getElementById(targetId);
                if (targetContent) {
                    targetContent.textContent = editorTextarea.value;
                }
            }
            editorModal.style.display = 'none';
        });

        // Close modal when clicking outside content
        editorModal.addEventListener('click', function(e) {
            if (e.target === editorModal) {
                editorModal.style.display = 'none';
            }
        });
    </script>

</main>

</body>
</html>